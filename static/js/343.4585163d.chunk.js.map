{"version":3,"file":"static/js/343.4585163d.chunk.js","mappings":"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","sources":["worker/worker2.js","../webpack/bootstrap","../webpack/runtime/chunk loaded","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/publicPath","../webpack/runtime/importScripts chunk loading","../webpack/runtime/startup chunk dependencies","../webpack/startup"],"sourcesContent":["import standard from '../data/standard';\r\nimport weight from '../data/weight';\r\nimport AffixName from '../data/AffixName';\r\nimport {findCombinations,EnchanceAllCombinations} from '../data/combination';\r\n\r\n\r\n//模擬計算在用的\r\nonmessage = function (event) {\r\n    //宣告變數\r\n    let SubData=event.data.SubData;\r\n    let partsIndex=parseInt(event.data.partsIndex);\r\n    let MainAffix=AffixName.find((a)=>a.name===event.data.MainData);\r\n    //let deviation=(event.data.deviation!==undefined)?event.data.deviation:0;\r\n    \r\n\r\n    //計算可用強化次數\r\n    var enchanceCount=0;\r\n    SubData.forEach(sb=>{    \r\n        enchanceCount=enchanceCount+Number(sb.count);\r\n    });\r\n\r\n\r\n    //計算可能的強化組合\r\n    let combination=findCombinations(enchanceCount,SubData.filter((s)=>!s.locked).length);\r\n\r\n    //根據強化組合的個數，隨機抽取一個(這個數值已經是索引值)\r\n    let randomNum = Math.floor(Math.random() * combination.length);\r\n\r\n\r\n    let charStandard=calStand(event.data.standard);\r\n    //分數誤差 目前先預設少半個有效詞條\r\n\r\n    let coeEfficent=[];//當前遺器係數arr\r\n    SubData.forEach((sub)=>{\r\n        let SubAffixType=AffixName.find((s)=>s.name===sub.subaffix);\r\n        coeEfficent.push({\r\n            type:SubAffixType.type,\r\n            fieldName:SubAffixType.fieldName,\r\n            num:Number(charStandard[SubAffixType.type]),\r\n            locked:(sub.locked)?true:false\r\n        });\r\n    });\r\n\r\n    let MainData=charStandard[MainAffix.type];\r\n    let result = 0;\r\n    //先算原本的遺器的分數\r\n\r\n    let p1=new Promise(async (resolve,reject)=>{\r\n        \r\n        let randomCombination=combination[randomNum];\r\n\r\n        //獲得所有可能的強化幅度組合\r\n        let subcombination=EnchanceAllCombinations(randomCombination);\r\n\r\n        //獲取隨機一種強化幅度的組合\r\n        let randomNum2 =Math.floor(Math.random() * subcombination.length);\r\n\r\n        let ran_subcombination=subcombination[randomNum2];\r\n\r\n        let res=0;\r\n        if(partsIndex!==1&&partsIndex!==2)\r\n            res=3*MainData;\r\n        \r\n        \r\n        let caltype=[];//已經計算過的詞條種類\r\n\r\n        let newSubaffix=[];\r\n\r\n        ran_subcombination.forEach((el,i) => {//對每個屬性詞條開始進行模擬計算\r\n            let total=0;\r\n            let sub=coeEfficent[i];\r\n            \r\n            let targetRange=AffixName.find((st)=>st.fieldName===sub.fieldName).range;\r\n\r\n            //如果該詞條所獲得的強化次數為0 可以推測該數值為初始詞條數值 則直接繼承使用\r\n            if(SubData[i].count===0)\r\n                total=SubData[i].data;\r\n            else\r\n                total=targetRange[1];//詞條模擬出來的總和，初始為最中間的值\r\n            \r\n            el.forEach((num)=>total+=targetRange[num]);\r\n\r\n            //計算有效詞條數\r\n            let affixStandard=standard.find((t)=>t.type==='sub').data.find((d)=>d.name===sub.fieldName).data;\r\n            let cal=parseFloat(total/affixStandard).toFixed(2);\r\n\r\n            //獲得加權有效詞條數 並加上去\r\n            let affixmutl=parseFloat(charStandard[sub.type]*cal);\r\n            \r\n            \r\n            //如果沒有計算過此種類詞條\r\n            caltype.push({\r\n                type:sub.fieldName,\r\n                affixmutl:affixmutl\r\n            });\r\n            \r\n            newSubaffix.push({\r\n                index:newSubaffix.length,\r\n                subaffix:SubData[i].subaffix,\r\n                data:parseFloat(total.toFixed(1)),\r\n                count:randomCombination[i]\r\n            });\r\n            \r\n        });\r\n\r\n        caltype.forEach((ms)=>{\r\n            if(ms.type!=='AttackDelta'&&ms.type!=='DefenceDelta'&&ms.type!=='HPDelta')\r\n                res+=ms.affixmutl;\r\n        });\r\n        \r\n\r\n        //理想分數\r\n        let IdealyScore=Number((parseFloat(res/calPartWeights(charStandard,partsIndex))*100).toFixed(2));\r\n        result=IdealyScore;\r\n\r\n        resolve(newSubaffix);\r\n    })\r\n\r\n    p1.then((newSubaffix)=>{\r\n        //設立分數標準\r\n        let scoreStand=[\r\n            {rank:'S+',stand:85,color:'rgb(239, 68, 68)',tag:'S+'},\r\n            {rank:'S',stand:70,color:'rgb(239, 68, 68)',tag:'S'},\r\n            {rank:'A',stand:50,color:'rgb(234, 179, 8)',tag:'A'},\r\n            {rank:'B',stand:35,color:'rgb(234, 88 , 12)',tag:'B'},\r\n            {rank:'C',stand:15,color:'rgb(163, 230, 53)',tag:'C'},\r\n            {rank:'D',stand:0 ,color:'rgb(22,163,74)',tag:'D'}\r\n        ];\r\n        //標準排序顛倒\r\n        scoreStand.reverse();\r\n       \r\n        \r\n        let relicrank=undefined;\r\n        let match = true;\r\n        \r\n        //console.log(result);\r\n        //根據標準去分類\r\n        scoreStand.forEach((stand,i)=>{\r\n\r\n            //如果當前的分數超過目前的標準 則繼續往下找\r\n            if(result<stand.stand&&match&&i!==0){\r\n                match = false;\r\n                relicrank =scoreStand[i-1];\r\n            }\r\n\r\n            //如果目前分數超過最終標準\r\n            if(i===scoreStand.length-1&&match){\r\n                match = false ;\r\n                relicrank=scoreStand[i];\r\n            }\r\n           \r\n\r\n\r\n            //接著去找尋這個分數所屬的區間\r\n            if(stand.stand<=origin&&relicrank===undefined)\r\n                relicrank=stand;\r\n\r\n        });\r\n        this.postMessage({\r\n            relicscore:Number(result.toFixed(1)),//遺器分數\r\n            relicrank:relicrank,//遺器區間\r\n            returnData:newSubaffix //該次模擬強化後各項數據\r\n        })\r\n        \r\n    });\r\n};\r\n\r\n//計算裝備權重\r\nfunction calPartWeights(charstandard,partIndex){\r\n    let partWeight = 5;//起始分數為5\r\n    let mainkey='';\r\n   \r\n    //先將標準倒序\r\n    charstandard=Object.entries(charstandard)\r\n    .sort((a, b) => b[1] - a[1]);\r\n\r\n    //主詞條 抓最大*3 剩下依序遞補 最多四個\r\n    //頭跟手會跳過\r\n    if(partIndex!==1&&partIndex!==2){\r\n\r\n        charstandard.forEach(([key,value])=>{\r\n            let unique=!weight[partIndex].sub.includes(key);\r\n            //要優先計算只出現在主詞條的\r\n            if(weight[partIndex].main.includes(key)&&mainkey===''&&unique&&value!==0){\r\n                mainkey=key;\r\n                partWeight=partWeight+value*3;\r\n            }\r\n        });\r\n\r\n        if(mainkey===''){\r\n            charstandard.forEach(([key,value])=>{\r\n                if(weight[partIndex].main.includes(key)&&mainkey===''){\r\n                    mainkey=key;\r\n                    partWeight=partWeight+value*3;\r\n                }\r\n            });\r\n        }\r\n    }\r\n    \r\n    //計算副詞條最大權重 最多計入四個\r\n    let calcount=0\r\n    charstandard.forEach(([key,value])=>{\r\n        if(key!==mainkey && calcount<4 && weight[partIndex].sub.includes(key)){\r\n            partWeight=partWeight+value;\r\n            calcount+=1;\r\n        }\r\n    });\r\n    return partWeight;\r\n}\r\n\r\n//製作標準\r\nfunction calStand(stand){\r\n\r\n    //設立一個模板 根據使用者填入參數更改\r\n    let model={\r\n        hp: 0,\r\n        atk: 0,\r\n        def: 0,\r\n        spd: 0,\r\n        crit_rate: 0,\r\n        crit_dmg: 0,\r\n        break_dmg: 0,\r\n        heal_rate: 0,\r\n        sp_rate: 0,\r\n        effect_hit: 0,\r\n        effect_res: 0,\r\n        physical_dmg: 0,\r\n        fire_dmg: 0,\r\n        ice_dmg: 0,\r\n        lightning_dmg: 0,\r\n        wind_dmg: 0,\r\n        quantum_dmg: 0,\r\n        imaginary_dmg: 0\r\n    };\r\n\r\n    //根據有效詞條關鍵字\r\n    stand.forEach((s)=>{\r\n        let target=AffixName.find((a)=>a.name===s.name).type;\r\n        model[target]=parseFloat(s.value);\r\n    });\r\n\r\n    return model;\r\n}\r\n\r\n//計算將會移置後台worker運作\r\n\r\n//所需資料\r\n//2.遺器本身數據(SubData) 3.遺器部位\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = function() {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [517], function() { return __webpack_require__(343); })\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"3532ed83\" + \".chunk.js\";\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/StarRailApi/\";","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t343: 1,\n\t724: 1\n};\n\n// importScripts chunk loading\nvar installChunk = function(data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = function(chunkId, promises) {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunkapi\"] = self[\"webpackChunkapi\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","var next = __webpack_require__.x;\n__webpack_require__.x = function() {\n\treturn __webpack_require__.e(517).then(next);\n};","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["calPartWeights","charstandard","partIndex","partWeight","mainkey","Object","entries","sort","a","b","forEach","_ref2","_ref3","_slicedToArray","key","value","unique","weight","sub","includes","main","_ref4","_ref5","calcount","_ref6","_ref7","onmessage","event","_this","SubData","data","partsIndex","parseInt","MainAffix","AffixName","find","name","MainData","enchanceCount","sb","Number","count","combination","findCombinations","filter","s","locked","length","randomNum","Math","floor","random","charStandard","stand","model","hp","atk","def","spd","crit_rate","crit_dmg","break_dmg","heal_rate","sp_rate","effect_hit","effect_res","physical_dmg","fire_dmg","ice_dmg","lightning_dmg","wind_dmg","quantum_dmg","imaginary_dmg","target","type","parseFloat","calStand","standard","coeEfficent","SubAffixType","subaffix","push","fieldName","num","result","p1","Promise","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resolve","reject","randomCombination","subcombination","randomNum2","ran_subcombination","res","caltype","newSubaffix","IdealyScore","wrap","_context","prev","next","EnchanceAllCombinations","el","i","total","targetRange","st","range","affixStandard","t","d","cal","toFixed","affixmutl","index","ms","stop","_x","_x2","apply","arguments","then","scoreStand","rank","color","tag","reverse","relicrank","undefined","match","origin","postMessage","relicscore","returnData","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","x","__webpack_exports__","O","deferred","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","splice","r","definition","o","defineProperty","enumerable","get","f","e","chunkId","all","reduce","promises","u","miniCssF","obj","prop","prototype","hasOwnProperty","call","p","installedChunks","importScripts","chunkLoadingGlobal","self","parentChunkLoadingFunction","bind","moreModules","runtime","pop"],"sourceRoot":""}