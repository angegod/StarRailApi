!function(){"use strict";var t={269:function(t,n,r){var e=r(453),a=r(675),i=r(467),o=r(312),u=r(829),f=r(344),c=r(357);function s(t,n){var r=5,a="";t=Object.entries(t).sort((function(t,n){return n[1]-t[1]})),1!==n&&2!==n&&(t.forEach((function(t){var i=(0,e.A)(t,2),o=i[0],f=i[1],c=!u.A[n].sub.includes(o);u.A[n].main.includes(o)&&""===a&&c&&0!==f&&(a=o,r+=3*f)})),""===a&&t.forEach((function(t){var i=(0,e.A)(t,2),o=i[0],f=i[1];u.A[n].main.includes(o)&&""===a&&(a=o,r+=3*f)})));var i=0;return t.forEach((function(t){var o=(0,e.A)(t,2),f=o[0],c=o[1];f!==a&&i<4&&u.A[n].sub.includes(f)&&(r+=c,i+=1)})),r}onmessage=function(t){var n=this,r=t.data.SubData,e=parseInt(t.data.partsIndex),u=f.A.find((function(n){return n.name===t.data.MainData})),d=void 0!==t.data.deviation?t.data.deviation:0,l=0;r.forEach((function(t){l+=Number(t.count)}));var p=(0,c.W)(l,r.filter((function(t){return!t.locked})).length),v=function(t){var n={hp:0,atk:0,def:0,spd:0,crit_rate:0,crit_dmg:0,break_dmg:0,heal_rate:0,sp_rate:0,effect_hit:0,effect_res:0,physical_dmg:0,fire_dmg:0,ice_dmg:0,lightning_dmg:0,wind_dmg:0,quantum_dmg:0,imaginary_dmg:0};return t.forEach((function(t){var r=f.A.find((function(n){return n.name===t.name})).type;n[r]=parseFloat(t.value)})),n}(t.data.standard),m=[];r.forEach((function(t){var n=f.A.find((function(n){return n.name===t.subaffix}));m.push({type:n.type,fieldName:n.fieldName,num:Number(v[n.type]),locked:!!t.locked})}));var h=v[u.type],g=[],b=function(t,n,r,e){var a=0,i=3*e,u=[];1!==t&&2!==t&&(a+=i);r.forEach((function(t){var r=parseFloat(t.data).toFixed(2),e=f.A.find((function(n){return n.name===t.subaffix})),a=o.A.find((function(t){return"sub"===t.type})).data.find((function(t){return t.name===e.fieldName})).data,i=parseFloat(r/a).toFixed(2),c=parseFloat(n[e.type]*i);u.push({type:e.fieldName,affixmutl:c})})),u.forEach((function(t){"AttackDelta"!==t.type&&"DefenceDelta"!==t.type&&"HPDelta"!==t.type&&(a+=t.affixmutl)}));var c=0;return c=100*parseFloat(a/s(n,t)),parseFloat(c).toFixed(1)}(e,v,r,h),y=new Promise(function(){var t=(0,i.A)((0,a.A)().mark((function t(n,i){return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p.forEach((function(t,n){(0,c.$)(t).forEach((function(t){var n=0;1!==e&&2!==e&&(n=3*h);var a=0,i=[];t.forEach((function(t,n){var e=m[n],u=f.A.find((function(t){return t.fieldName===e.fieldName})).range;a=0===r[n].count?r[n].data:u[1],t.forEach((function(t){return a+=u[t]}));var c=o.A.find((function(t){return"sub"===t.type})).data.find((function(t){return t.name===e.fieldName})).data,s=parseFloat(a/c).toFixed(2),d=parseFloat(v[e.type]*s);i.push({type:e.fieldName,affixmutl:d})})),i.forEach((function(t){"AttackDelta"!==t.type&&"DefenceDelta"!==t.type&&"HPDelta"!==t.type&&(n+=t.affixmutl)}));var u=Number((100*parseFloat(n/s(v,e))).toFixed(2));g.push(u)}))})),n(b);case 2:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}());y.then((function(t){var r=JSON.parse(JSON.stringify(g)).filter((function(t){return t-d>Number(b)})).length/g.length.toFixed(2),e=JSON.parse(JSON.stringify(g)),a=void 0,i=[];[{rank:"S+",stand:85,color:"rgb(239, 68, 68)",tag:"S+"},{rank:"S",stand:70,color:"rgb(239, 68, 68)",tag:"S"},{rank:"A",stand:50,color:"rgb(234, 179, 8)",tag:"A"},{rank:"B",stand:35,color:"rgb(234, 88 , 12)",tag:"B"},{rank:"C",stand:15,color:"rgb(163, 230, 53)",tag:"C"},{rank:"D",stand:0,color:"rgb(22,163,74)",tag:"D"}].forEach((function(t,n){var r=e.filter((function(n){return n>=t.stand}));e=e.filter((function(n){return n<t.stand})),i.push({label:t.tag,value:Number((100*parseFloat(r.length/g.length)).toFixed(2)),color:t.color,tag:t.rank}),t.stand<=b&&void 0===a&&(a=t)})),n.postMessage({expRate:r,relicscore:t,relicrank:a,returnData:i})}))}}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,r.x=function(){var t=r.O(void 0,[517],(function(){return r(269)}));return t=r.O(t)},function(){var t=[];r.O=function(n,e,a,i){if(!e){var o=1/0;for(s=0;s<t.length;s++){e=t[s][0],a=t[s][1],i=t[s][2];for(var u=!0,f=0;f<e.length;f++)(!1&i||o>=i)&&Object.keys(r.O).every((function(t){return r.O[t](e[f])}))?e.splice(f--,1):(u=!1,i<o&&(o=i));if(u){t.splice(s--,1);var c=a();void 0!==c&&(n=c)}}return n}i=i||0;for(var s=t.length;s>0&&t[s-1][2]>i;s--)t[s]=t[s-1];t[s]=[e,a,i]}}(),r.d=function(t,n){for(var e in n)r.o(n,e)&&!r.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},r.f={},r.e=function(t){return Promise.all(Object.keys(r.f).reduce((function(n,e){return r.f[e](t,n),n}),[]))},r.u=function(t){return"static/js/"+t+".3532ed83.chunk.js"},r.miniCssF=function(t){},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="/StarRailApi/",function(){var t={31:1,269:1,650:1};r.f.i=function(n,e){t[n]||importScripts(r.p+r.u(n))};var n=self.webpackChunkapi=self.webpackChunkapi||[],e=n.push.bind(n);n.push=function(n){var a=n[0],i=n[1],o=n[2];for(var u in i)r.o(i,u)&&(r.m[u]=i[u]);for(o&&o(r);a.length;)t[a.pop()]=1;e(n)}}(),function(){var t=r.x;r.x=function(){return r.e(517).then(t)}}();r.x()}();
//# sourceMappingURL=269.bbf3fc62.chunk.js.map